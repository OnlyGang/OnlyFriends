@model OnlyFriends.Models.ApplicationUser
@{
    ViewBag.Title = "MyPage";
}

<h2>MyPage</h2>

<div class="panel-heading">Username: @Model.UserName</div>
<div class="panel-body">
    <i class="glyphicon glyphicon-envelope"></i> Email: <span class="label label-default">@Model.Email</span>
    <br />
    <br />
    @if (Model.PhoneNumber != null)
    {
        <i class="glyphicon glyphicon-phone"></i>@:PhoneNumber:<span class="label label-default">@Model.PhoneNumber</span>
    }
</div>

@foreach (var req in Model.ReceivedFriendRequests)
{
    <p>
        @req.Sender.UserName
        @using (Html.BeginForm(actionName: "Delete", controllerName: "FriendRequests", method: FormMethod.Post, routeValues: new { SenderId = req.SenderId, RecieverId = req.RecieverId }))
        {
            @Html.HttpMethodOverride(HttpVerbs.Delete)
            <button class="glyphicon glyphicon-trash" style="border: none; background: transparent;" type="submit"></button>
        }
        @using (Html.BeginForm(actionName: "Accept", controllerName: "FriendRequests", method: FormMethod.Post, routeValues: new { SenderId = req.SenderId, RecieverId = req.RecieverId }))
        {
            @Html.HttpMethodOverride(HttpVerbs.Delete)
            <button class="glyphicon glyphicon-check" style="border: none; background: transparent;" type="submit"></button>
        }
    </p>
}

<hr />
@foreach (var friend in Model.MyUserRetations)
{
    <p>
        @friend.User2.UserName
        
    </p>
}